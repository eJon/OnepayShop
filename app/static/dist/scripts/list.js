require(["jquery"],function(n){function a(){return!!n("body").hasClass("login")}function e(a){console.log(a);var e=n(a).prev(".join-select"),t=Number(e.find('input[name="amount"]').val()),i=Number(e.find('input[name="pid"]').val()),u=Number(e.find(".plus").data("max"));if(console.log(t,i,u),NaN!=t&&NaN!=i&&0!=i&&NaN!=u){if(t>=1&&t<=u)return!0;e.find('input[name="amount"]').focus()}}n(".db-btn").on("click",function(n){return a()?!!e(n.target)&&void 0:(location.href="/login?next="+location.href,!1)}),n('input[name="amount"]').on("keyup",function(){var a=n(this);1==a.val().length?a.val(a.val().replace(/[^1-9]/g,"1")):a.val(a.val().replace(/\D/g,"1"))}),n('input[name="amount"]').on("afterpaste",function(){var a=n(this);1==a.val().length?a.val(a.val().replace(/[^1-9]/g,"1")):a.val(a.val().replace(/\D/g,"1"))}),n(".join-select").find("a").on("click",function(){var a=n(this),e=1;if(a.hasClass("minus"))e=Number(a.next('input[name="amount"]').val()),NaN!=e&&e>1&&a.next('input[name="amount"]').val(e-1);else{e=Number(a.prev('input[name="amount"]').val());var t=Number(a.data("max"));NaN!=e&&e<t&&a.prev('input[name="amount"]').val(e+1)}})});